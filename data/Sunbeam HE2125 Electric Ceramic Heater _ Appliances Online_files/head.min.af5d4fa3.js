!function(a,b,c){function d(a,b){return typeof a===b}function e(){var a,b,c,e,f,g,h;for(var i in u)if(u.hasOwnProperty(i)){if(a=[],b=u[i],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(e=d(b.fn,"function")?b.fn():b.fn,f=0;f<a.length;f++)g=a[f],h=g.split("."),1===h.length?w[h[0]]=e:(!w[h[0]]||w[h[0]]instanceof Boolean||(w[h[0]]=new Boolean(w[h[0]])),w[h[0]][h[1]]=e),t.push((e?"":"no-")+h.join("-"))}}function f(a){var b=y.className,c=w._config.classPrefix||"";if(z&&(b=b.baseVal),w._config.enableJSClass){var d=new RegExp("(^|\\s)"+c+"no-js(\\s|$)");b=b.replace(d,"$1"+c+"js$2")}w._config.enableClasses&&(b+=" "+c+a.join(" "+c),z?y.className.baseVal=b:y.className=b)}function g(a){return a.replace(/([a-z])-([a-z])/g,function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")}function h(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):z?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}function i(a,b){return a-1===b||a===b||a+1===b}function j(a,b){return!!~(""+a).indexOf(b)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b,c){var e;for(var f in a)if(a[f]in b)return c===!1?a[f]:(e=b[a[f]],d(e,"function")?k(e,c||b):e);return!1}function m(){var a=b.body;return a||(a=h(z?"svg":"body"),a.fake=!0),a}function n(a,c,d,e){var f,g,i,j,k="modernizr",l=h("div"),n=m();if(parseInt(d,10))for(;d--;)i=h("div"),i.id=e?e[d]:k+(d+1),l.appendChild(i);return f=h("style"),f.type="text/css",f.id="s"+k,(n.fake?n:l).appendChild(f),n.appendChild(l),f.styleSheet?f.styleSheet.cssText=a:f.appendChild(b.createTextNode(a)),l.id=k,n.fake&&(n.style.background="",n.style.overflow="hidden",j=y.style.overflow,y.style.overflow="hidden",y.appendChild(n)),g=c(l,a),n.fake?(n.parentNode.removeChild(n),y.style.overflow=j,y.offsetHeight):l.parentNode.removeChild(l),!!g}function o(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function p(b,d){var e=b.length;if("CSS"in a&&"supports"in a.CSS){for(;e--;)if(a.CSS.supports(o(b[e]),d))return!0;return!1}if("CSSSupportsRule"in a){for(var f=[];e--;)f.push("("+o(b[e])+":"+d+")");return f=f.join(" or "),n("@supports ("+f+") { #modernizr { position: absolute; } }",function(a){return"absolute"==getComputedStyle(a,null).position})}return c}function q(a,b,e,f){function i(){l&&(delete N.style,delete N.modElem)}if(f=d(f,"undefined")?!1:f,!d(e,"undefined")){var k=p(a,e);if(!d(k,"undefined"))return k}for(var l,m,n,o,q,r=["modernizr","tspan"];!N.style;)l=!0,N.modElem=h(r.shift()),N.style=N.modElem.style;for(n=a.length,m=0;n>m;m++)if(o=a[m],q=N.style[o],j(o,"-")&&(o=g(o)),N.style[o]!==c){if(f||d(e,"undefined"))return i(),"pfx"==b?o:!0;try{N.style[o]=e}catch(s){}if(N.style[o]!=q)return i(),"pfx"==b?o:!0}return i(),!1}function r(a,b,c,e,f){var g=a.charAt(0).toUpperCase()+a.slice(1),h=(a+" "+I.join(g+" ")+g).split(" ");return d(b,"string")||d(b,"undefined")?q(h,b,e,f):(h=(a+" "+K.join(g+" ")+g).split(" "),l(h,b,c))}function s(a,b,d){return r(a,c,c,b,d)}var t=[],u=[],v={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){u.push({name:a,fn:b,options:c})},addAsyncTest:function(a){u.push({name:null,fn:a})}},w=function(){};w.prototype=v,w=new w,w.addTest("svg",!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);var x=v._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];v._prefixes=x;var y=b.documentElement,z="svg"===y.nodeName.toLowerCase();w.addTest("csspointerevents",function(){var a=h("a").style;return a.cssText="pointer-events:auto","auto"===a.pointerEvents}),w.addTest("rgba",function(){var a=h("a").style;return a.cssText="background-color:rgba(150,255,150,.5)",(""+a.backgroundColor).indexOf("rgba")>-1}),w.addTest("placeholder","placeholder"in h("input")&&"placeholder"in h("textarea"));var A=h("input"),B="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),C={};w.input=function(b){for(var c=0,d=b.length;d>c;c++)C[b[c]]=!!(b[c]in A);return C.list&&(C.list=!(!h("datalist")||!a.HTMLDataListElement)),C}(B);var D="search tel url email datetime date month week time datetime-local number range color".split(" "),E={};w.inputtypes=function(a){for(var d,e,f,g=a.length,h="1)",i=0;g>i;i++)A.setAttribute("type",d=a[i]),f="text"!==A.type&&"style"in A,f&&(A.value=h,A.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(d)&&A.style.WebkitAppearance!==c?(y.appendChild(A),e=b.defaultView,f=e.getComputedStyle&&"textfield"!==e.getComputedStyle(A,null).WebkitAppearance&&0!==A.offsetHeight,y.removeChild(A)):/^(search|tel)$/.test(d)||(f=/^(url|email)$/.test(d)?A.checkValidity&&A.checkValidity()===!1:A.value!=h)),E[a[i]]=!!f;return E}(D);var F="CSS"in a&&"supports"in a.CSS,G="supportsCSS"in a;w.addTest("supports",F||G);var H="Moz O ms Webkit",I=v._config.usePrefixes?H.split(" "):[];v._cssomPrefixes=I;var J=function(b){var d,e=x.length,f=a.CSSRule;if("undefined"==typeof f)return c;if(!b)return!1;if(b=b.replace(/^@/,""),d=b.replace(/-/g,"_").toUpperCase()+"_RULE",d in f)return"@"+b;for(var g=0;e>g;g++){var h=x[g],i=h.toUpperCase()+"_"+d;if(i in f)return"@-"+h.toLowerCase()+"-"+b}return!1};v.atRule=J;var K=v._config.usePrefixes?H.toLowerCase().split(" "):[];v._domPrefixes=K;var L=v.testStyles=n;w.addTest("touchevents",function(){var c;if("ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch)c=!0;else{var d=["@media (",x.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");L(d,function(a){c=9===a.offsetTop})}return c}),L("#modernizr { height: 50vh; }",function(b){var c=parseInt(a.innerHeight/2,10),d=parseInt((a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).height,10);w.addTest("cssvhunit",d==c)}),L("#modernizr1{width: 50vmax}#modernizr2{width:50px;height:50px;overflow:scroll}#modernizr3{position:fixed;top:0;left:0;bottom:0;right:0}",function(b){var c=b.childNodes[2],d=b.childNodes[1],e=b.childNodes[0],f=parseInt((d.offsetWidth-d.clientWidth)/2,10),g=e.clientWidth/100,h=e.clientHeight/100,j=parseInt(50*Math.max(g,h),10),k=parseInt((a.getComputedStyle?getComputedStyle(c,null):c.currentStyle).width,10);w.addTest("cssvmaxunit",i(j,k)||i(j,k-f))},3),L("#modernizr1{width: 50vm;width:50vmin}#modernizr2{width:50px;height:50px;overflow:scroll}#modernizr3{position:fixed;top:0;left:0;bottom:0;right:0}",function(b){var c=b.childNodes[2],d=b.childNodes[1],e=b.childNodes[0],f=parseInt((d.offsetWidth-d.clientWidth)/2,10),g=e.clientWidth/100,h=e.clientHeight/100,j=parseInt(50*Math.min(g,h),10),k=parseInt((a.getComputedStyle?getComputedStyle(c,null):c.currentStyle).width,10);w.addTest("cssvminunit",i(j,k)||i(j,k-f))},3),L("#modernizr { width: 50vw; }",function(b){var c=parseInt(a.innerWidth/2,10),d=parseInt((a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).width,10);w.addTest("cssvwunit",d==c)});var M={elem:h("modernizr")};w._q.push(function(){delete M.elem});var N={style:M.elem.style};w._q.unshift(function(){delete N.style}),v.testAllProps=r;var O=v.prefixed=function(a,b,c){return 0===a.indexOf("@")?J(a):(-1!=a.indexOf("-")&&(a=g(a)),b?r(a,b,c):r(a,"pfx"))};v.testAllProps=s,w.addTest("backgroundsize",s("backgroundSize","100%",!0)),w.addTest("flexbox",s("flexBasis","1px",!0)),w.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&s("transform","scale(1)",!0)}),w.addTest("csstransforms3d",function(){var a=!!s("perspective","1px",!0),b=w._config.usePrefixes;if(a&&(!b||"webkitPerspective"in y.style)){var c,d="#modernizr{width:0;height:0}";w.supports?c="@supports (perspective: 1px)":(c="@media (transform-3d)",b&&(c+=",(-webkit-transform-3d)")),c+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",L(d+c,function(b){a=7===b.offsetWidth&&18===b.offsetHeight})}return a}),w.addTest("csstransitions",s("transition","all",!0)),v.prefixedCSS=function(a){var b=O(a);return b&&o(b)},e(),f(t),delete v.addTest,delete v.addAsyncTest;for(var P=0;P<w._q.length;P++)w._q[P]();a.Modernizr=w}(window,document),function(a,b,c){"use awesome";if(a.trackJs)a.console&&a.console.warn&&a.console.warn("TrackJS global conflict");else{var d=function(a,b,c,d,e){this.util=a,this.onError=b,this.onFault=c,this.options=e,e.enabled&&this.initialize(d)};d.prototype={initialize:function(a){a.addEventListener&&(this.wrapAndCatch(a.Element.prototype,"addEventListener",1),this.wrapAndCatch(a.XMLHttpRequest.prototype,"addEventListener",1),this.wrapRemoveEventListener(a.Element.prototype),this.wrapRemoveEventListener(a.XMLHttpRequest.prototype)),this.wrapAndCatch(a,"setTimeout",0),this.wrapAndCatch(a,"setInterval",0)},wrapAndCatch:function(a,b,c){var d=this,f=a[b];d.util.hasFunction(f,"apply")&&(a[b]=function(){try{var g,h,i=Array.prototype.slice.call(arguments),j=i[c];if(d.options.bindStack)try{throw Error()}catch(k){h=k.stack,g=d.util.isoNow()}if("addEventListener"===b&&(this._trackJsEvt||(this._trackJsEvt=new e),this._trackJsEvt.getWrapped(i[0],j,i[2])))return;return j&&d.util.hasFunction(j,"apply")&&(i[c]=function(){try{return j.apply(this,arguments)}catch(a){throw d.onError("catch",a,{bindTime:g,bindStack:h}),d.util.wrapError(a)}},"addEventListener"===b&&this._trackJsEvt.add(i[0],j,i[2],i[c])),f.apply(this,i)}catch(l){a[b]=f,d.onFault(l)}})},wrapRemoveEventListener:function(a){if(a&&a.removeEventListener&&this.util.hasFunction(a.removeEventListener,"call")){var b=a.removeEventListener;a.removeEventListener=function(a,c,d){if(this._trackJsEvt){var e=this._trackJsEvt.getWrapped(a,c,d);return e&&this._trackJsEvt.remove(a,c,d),b.call(this,a,e,d)}return b.call(this,a,c,d)}}}};var e=function(){this.events=[]};e.prototype={add:function(a,b,c,d){-1>=this.indexOf(a,b,c)&&this.events.push([a,b,!!c,d])},remove:function(a,b,c){a=this.indexOf(a,b,!!c),a>=0&&this.events.splice(a,1)},getWrapped:function(a,b,d){return a=this.indexOf(a,b,!!d),a>=0?this.events[a][3]:c},indexOf:function(a,b,c){for(var d=0;d<this.events.length;d++)if(this.events[d][0]===a&&this.events[d][1]===b&&this.events[d][2]===!!c)return d;return-1}};var f=function(a,b){this.util=a,this.initCurrent(b)};f.prototype={current:{},initOnly:{cookie:!0,enabled:!0,token:!0,callback:{enabled:!0},console:{enabled:!0},network:{enabled:!0},visitor:{enabled:!0},window:{enabled:!0}},defaults:{application:"",cookie:!0,enabled:!0,onError:function(){return!0},serialize:function(a){return a===c?"undefined":null===a?"null":"number"==typeof a&&isNaN(a)?"NaN":""===a?"Empty String":0===a?"0":!1===a?"false":a&&a.toString?a.toString():"unknown"},sessionId:"",token:"",userId:"",version:"",callback:{enabled:!0,bindStack:!1},console:{enabled:!0,display:!0,error:!0,watch:["log","debug","info","warn","error"]},network:{enabled:!0,error:!0},visitor:{enabled:!0},window:{enabled:!0}},initCurrent:function(a){return this.validate(a,this.defaults,"config",{})?(this.current=this.util.extend(this.current,this.defaults,a),!0):(this.current=this.util.extend(this.current,this.defaults),!1)},setCurrent:function(a){return this.validate(a,this.defaults,"config",this.initOnly)?(this.current=this.util.extend(this.current,a),!0):!1},validate:function(a,b,c,d){var e=!0;c=c||"",d=d||{};for(var f in a)if(a.hasOwnProperty(f))if(b.hasOwnProperty(f)){var g=typeof b[f];g!==typeof a[f]?(void 0,e=!1):"[object Array]"!==Object.prototype.toString.call(a[f])||this.validateArray(a[f],b[f],c+"."+f)?"[object Object]"===Object.prototype.toString.call(a[f])?e=this.validate(a[f],b[f],c+"."+f,d[f]):d.hasOwnProperty(f)&&(void 0,e=!1):e=!1}else void 0,e=!1;return e},validateArray:function(a,b,c){var d=!0;c=c||"";for(var e=0;e<a.length;e++)this.util.contains(b,a[e])||(void 0,d=!1);return d}};var g=function(a,b,c,d,e,f,g){this.util=a,this.log=b,this.onError=c,this.onFault=d,this.serialize=e,g.enabled&&(f.console=this.wrapConsoleObject(f.console,g))};g.prototype={wrapConsoleObject:function(a,b){a=a||{};var c,d=a.log||function(){},e=this;for(c=0;c<b.watch.length;c++)(function(c){var f=a[c]||d;a[c]=function(){try{var a=Array.prototype.slice.call(arguments);if(e.log.add("c",{timestamp:e.util.isoNow(),severity:c,message:e.serialize(a)}),b.error&&"error"===c)try{throw Error(e.serialize(a))}catch(d){e.onError("console",d)}b.display&&(e.util.hasFunction(f,"apply")?f.apply(this,a):f(a[0],a[1],a[2]))}catch(g){e.onFault(g)}}})(b.watch[c]);return a},report:function(){return this.log.all("c")}};var h=function(a,b,c,d,e){this.config=a,this.util=b,this.log=c,this.window=d,this.document=e,this.correlationId=this.token=null,this.initialize()};h.prototype={initialize:function(){this.token=this.getCustomerToken(),this.correlationId=this.getCorrelationId()},getCustomerToken:function(){if(this.config.current.token)return this.config.current.token;var a=this.document.getElementsByTagName("script");return a[a.length-1].getAttribute("data-token")},getCorrelationId:function(){var a;if(!this.config.current.cookie)return this.util.uuid();try{a=this.document.cookie.replace(/(?:(?:^|.*;\s*)TrackJS\s*\=\s*([^;]*).*$)|^.*$/,"$1"),a||(a=this.util.uuid(),this.document.cookie="TrackJS="+a+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/")}catch(b){a=this.util.uuid()}return a},report:function(){return{application:this.config.current.application,correlationId:this.correlationId,sessionId:this.config.current.sessionId,token:this.token,userId:this.config.current.userId,version:this.config.current.version}}};var i=function(a){this.loadedOn=(new Date).getTime(),this.window=a};i.prototype={discoverDependencies:function(){var a,b={};this.window.jQuery&&this.window.jQuery.fn&&this.window.jQuery.fn.jquery&&(b.jQuery=this.window.jQuery.fn.jquery),this.window.jQuery&&this.window.jQuery.ui&&this.window.jQuery.ui.version&&(b.jQueryUI=this.window.jQuery.ui.version),this.window.angular&&this.window.angular.version&&this.window.angular.version.full&&(b.angular=this.window.angular.version.full);for(a in this.window)if("_trackJs"!==a&&"_trackJS"!==a&&"_trackjs"!==a&&"webkitStorageInfo"!==a&&"webkitIndexedDB"!==a&&"top"!==a&&"parent"!==a&&"frameElement"!==a)try{if(this.window[a]){var c=this.window[a].version||this.window[a].Version||this.window[a].VERSION;"string"==typeof c&&(b[a]=c)}}catch(d){}return b},report:function(){return{age:(new Date).getTime()-this.loadedOn,dependencies:this.discoverDependencies(),userAgent:this.window.navigator.userAgent,viewportHeight:this.window.document.documentElement.clientHeight,viewportWidth:this.window.document.documentElement.clientWidth}}};var j=function(a){this.util=a,this.appender=[],this.maxLength=30};j.prototype={all:function(a){var b,c,d=[];for(c=0;c<this.appender.length;c++)(b=this.appender[c])&&b.category===a&&d.push(b.value);return d},clear:function(){this.appender.length=0},truncate:function(){this.appender.length>this.maxLength&&(this.appender=this.appender.slice(Math.max(this.appender.length-this.maxLength,0)))},add:function(a,b){var c=this.util.uuid();return this.appender.push({key:c,category:a,value:b}),this.truncate(),c},get:function(a,b){var c,d;for(d=0;d<this.appender.length;d++)if(c=this.appender[d],c.category===a&&c.key===b)return c.value;return!1}};var k=function(a,b,c,d,e,f){this.util=a,this.log=b,this.onError=c,this.onFault=d,this.window=e,this.options=f,f.enabled&&this.initialize(e)};k.prototype={initialize:function(a){a.XMLHttpRequest&&this.util.hasFunction(a.XMLHttpRequest.prototype.open,"apply")&&this.watchNetworkObject(a.XMLHttpRequest),a.XDomainRequest&&this.util.hasFunction(a.XDomainRequest.prototype.open,"apply")&&this.watchNetworkObject(a.XDomainRequest)},watchNetworkObject:function(a){var b=this,c=a.prototype.open,d=a.prototype.send;return a.prototype.open=function(a,b){return 0>b.indexOf("localhost:0")&&(this._trackJs={method:a,url:b}),c.apply(this,arguments)},a.prototype.send=function(){try{if(!this._trackJs)return d.apply(this,arguments);this._trackJs.logId=b.log.add("n",{startedOn:b.util.isoNow(),method:this._trackJs.method,url:this._trackJs.url}),b.listenForNetworkComplete(this)}catch(a){b.onFault(a)}return d.apply(this,arguments)},a},listenForNetworkComplete:function(a){var b=this;b.window.ProgressEvent&&a.addEventListener&&a.addEventListener("readystatechange",function(){4===a.readyState&&b.finalizeNetworkEvent(a)},!0),a.addEventListener?a.addEventListener("load",function(){b.finalizeNetworkEvent(a),b.checkNetworkFault(a)},!0):setTimeout(function(){try{var c=a.onload;a.onload=function(){b.finalizeNetworkEvent(a),b.checkNetworkFault(a),"function"==typeof c&&b.util.hasFunction(c,"apply")&&c.apply(a,arguments)};var d=a.onerror;a.onerror=function(){b.finalizeNetworkEvent(a),b.checkNetworkFault(a),"function"==typeof oldOnError&&d.apply(a,arguments)}}catch(e){b.onFault(e)}},0)},finalizeNetworkEvent:function(a){if(a._trackJs){var b=this.log.get("n",a._trackJs.logId);b&&(b.completedOn=this.util.isoNow(),b.statusCode=1223==a.status?204:a.status,b.statusText=1223==a.status?"No Content":a.statusText)}},checkNetworkFault:function(a){if(this.options.error&&400<=a.status&&1223!=a.status){var b=a._trackJs||{};this.onError("ajax",a.status+" "+a.statusText+": "+b.method+" "+b.url)}},report:function(){return this.log.all("n")}};var l=function(b){this.util=b,this.disabled=!1,this.throttleStats={attemptCount:0,throttledCount:0,lastAttempt:(new Date).getTime()},a.JSON&&a.JSON.stringify||(this.disabled=!0)};l.prototype={errorEndpoint:function(b){var c="https://capture.trackjs.com/capture";return this.util.testCrossdomainXhr()||-1!==a.location.protocol.indexOf("https")||(c="http://capture.trackjs.com/capture"),c+"?token="+b},usageEndpoint:function(a){return this.appendObjectAsQuery(a,"https://usage.trackjs.com/usage.gif")},trackerFaultEndpoint:function(a){return this.appendObjectAsQuery(a,"https://usage.trackjs.com/fault.gif")},appendObjectAsQuery:function(a,b){b+="?";for(var c in a)a.hasOwnProperty(c)&&(b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c])+"&");return b},getCORSRequest:function(b,c){var d;return this.util.testCrossdomainXhr()?(d=new a.XMLHttpRequest,d.open(b,c),d.setRequestHeader("Content-Type","text/plain")):"undefined"!=typeof a.XDomainRequest?(d=new a.XDomainRequest,d.open(b,c)):d=null,d},sendTrackerFault:function(a){this.throttle(a)||((new Image).src=this.trackerFaultEndpoint(a))},sendUsage:function(a){(new Image).src=this.usageEndpoint(a)},sendError:function(b,d){var e=this;if(!this.disabled&&!this.throttle(b))try{var f=this.getCORSRequest("POST",this.errorEndpoint(d));f.onreadystatechange=function(){4===f.readyState&&200!==f.status&&(e.disabled=!0)},f._trackJs=c,f.send(a.JSON.stringify(b))}catch(g){throw this.disabled=!0,g}},throttle:function(a){var b=(new Date).getTime();if(this.throttleStats.attemptCount++,this.throttleStats.lastAttempt+1e3>=b){if(this.throttleStats.lastAttempt=b,10<this.throttleStats.attemptCount)return this.throttleStats.throttledCount++,!0}else a.throttled=this.throttleStats.throttledCount,this.throttleStats.attemptCount=0,this.throttleStats.lastAttempt=b,this.throttleStats.throttledCount=0;return!1}};var m=function(a){this.window=a};m.prototype={bind:function(a,b){return function(){return a.apply(b,Array.prototype.slice.call(arguments))}},contains:function(a,b){var c;for(c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},defer:function(a,b){setTimeout(function(){a.apply(b)})},extend:function(a){for(var b,d=Array.prototype.slice.call(arguments,1),e=0;e<d.length;e++)for(b in d[e])null===d[e][b]||d[e][b]===c?a[b]=d[e][b]:"[object Object]"===Object.prototype.toString.call(d[e][b])?(a[b]=a[b]||{},this.extend(a[b],d[e][b])):a[b]=d[e][b];return a},hasFunction:function(a,b){try{return!!a[b]}catch(c){return!1}},isBrowserIE:function(){var a=this.window.navigator.userAgent,b=a.match(/Trident\/([\d.]+)/);return b&&"7.0"===b[1]?11:(a=a.match(/MSIE ([\d.]+)/))?parseInt(a[1],10):!1},isBrowserSupported:function(){var a=this.isBrowserIE();return!a||a>=8},isoNow:function(){var a=new Date;return a.toISOString?a.toISOString():a.getUTCFullYear()+"-"+this.pad(a.getUTCMonth()+1)+"-"+this.pad(a.getUTCDate())+"T"+this.pad(a.getUTCHours())+":"+this.pad(a.getUTCMinutes())+":"+this.pad(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},pad:function(a){return a=String(a),1===a.length&&(a="0"+a),a},testCrossdomainXhr:function(){return"withCredentials"in new XMLHttpRequest},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})},wrapError:function(a){if(a.innerError)return a;var b=Error("TrackJS Caught: "+(a.message||a));return b.description="TrackJS Caught: "+a.description,b.file=a.file,b.line=a.line||a.lineNumber,b.column=a.column||a.columnNumber,b.stack=a.stack,b.innerError=a,b}};var n=function(a,b,c,d,e,f){this.util=a,this.log=b,this.onError=c,this.onFault=d,this.options=f,this.document=e,f.enabled&&this.initialize(e)};n.prototype={initialize:function(a){var b=this.util.bind(this.onDocumentClicked,this),c=this.util.bind(this.onInputChanged,this);a.addEventListener?(a.addEventListener("click",b,!0),a.addEventListener("blur",c,!0)):a.attachEvent&&(a.attachEvent("onclick",b),a.attachEvent("onfocusout",c))},onDocumentClicked:function(a){try{var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isDescribedElement(b,"a")||this.isDescribedElement(b,"button")||this.isDescribedElement(b,"input",["button","submit"])?this.writeVisitorEvent(b,"click"):this.isDescribedElement(b,"input",["checkbox","radio"])&&this.writeVisitorEvent(b,"input",b.value,b.checked))}catch(c){this.onFault(c)}},onInputChanged:function(a){try{var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isDescribedElement(b,"textarea")?this.writeVisitorEvent(b,"input",b.value):this.isDescribedElement(b,"select")&&b.options&&b.options.length?this.onSelectInputChanged(b):this.isDescribedElement(b,"input")&&!this.isDescribedElement(b,"input",["button","submit","hidden","checkbox","radio"])&&this.writeVisitorEvent(b,"input",b.value))}catch(c){this.onFault(c)}},onSelectInputChanged:function(a){if(a.multiple)for(var b=0;b<a.options.length;b++)a.options[b].selected&&this.writeVisitorEvent(a,"input",a.options[b].value);else 0<=a.selectedIndex&&a.options[a.selectedIndex]&&this.writeVisitorEvent(a,"input",a.options[a.selectedIndex].value)},writeVisitorEvent:function(a,b,d,e){"password"===this.getElementType(a)&&(d=c),this.log.add("v",{timestamp:this.util.isoNow(),action:b,element:{tag:a.tagName.toLowerCase(),attributes:this.getElementAttributes(a),value:this.getMetaValue(d,e)}})},getElementFromEvent:function(a){return a.target||b.elementFromPoint(a.clientX,a.clientY)},isDescribedElement:function(a,b,c){if(a.tagName.toLowerCase()!==b.toLowerCase())return!1;if(!c)return!0;for(a=this.getElementType(a),b=0;b<c.length;b++)if(c[b]===a)return!0;return!1},getElementType:function(a){return(a.getAttribute("type")||"").toLowerCase()},getElementAttributes:function(a){for(var b={},c=0;c<a.attributes.length;c++)"value"!==a.attributes[c].name.toLowerCase()&&(b[a.attributes[c].name]=a.attributes[c].value);return b},getMetaValue:function(a,b){return a===c?c:{length:a.length,pattern:this.matchInputPattern(a),checked:b}},matchInputPattern:function(a){return""===a?"empty":/^[a-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(a)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(a)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(a)?"date":/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(a)?"usphone":/^\s*$/.test(a)?"whitespace":/^\d*$/.test(a)?"numeric":/^[a-zA-Z]*$/.test(a)?"alpha":/^[a-zA-Z0-9]*$/.test(a)?"alphanumeric":"characters"},report:function(){return this.log.all("v")}};var o=function(a,b,c,d,e){this.onError=a,this.onFault=b,this.serialize=c,e.enabled&&this.watchWindowErrors(d)};o.prototype={watchWindowErrors:function(a){var b=this;a.onerror=function(a,c,d,e,f){try{f=f||{},f.message=f.message||b.serialize(a),f.line=f.line||parseInt(d,10)||null,f.column=f.column||parseInt(e,10)||null,"[object Event]"!==Object.prototype.toString.call(a)||c?f.file=f.file||b.serialize(c):f.file=(a.target||{}).src,b.onError("window",f)}catch(g){b.onFault(g)}}}};var p=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){try{if(this.window=p,this.document=q,this.util=new l(this.window),this.onError=this.util.bind(this.onError,this),this.onFault=this.util.bind(this.onFault,this),this.serialize=this.util.bind(this.serialize,this),this.transmitter=new k(this.util),this.config=new d(this.util,a),this.log=new h(this.util),this.api=new b(this.config,this.util,this.onError,this.serialize),this.metadata=new i(this.serialize),this.environment=new g(this.window),this.customer=new f(this.config,this.util,this.log,this.window,this.document),this.customer.token&&(this.apiConsoleWatcher=new e(this.util,this.log,this.onError,this.onFault,this.serialize,this.api,this.config.defaults.console),this.config.current.enabled&&(this.windowConsoleWatcher=new e(this.util,this.log,this.onError,this.onFault,this.serialize,this.window,this.config.current.console),this.util.isBrowserSupported()))){this.callbackWatcher=new c(this.util,this.onError,this.onFault,this.window,this.config.current.callback),this.visitorWatcher=new m(this.util,this.log,this.onError,this.onFault,this.document,this.config.current.visitor),this.networkWatcher=new j(this.util,this.log,this.onError,this.onFault,this.window,this.config.current.network),this.windowWatcher=new n(this.onError,this.onFault,this.serialize,this.window,this.config.current.window);var r=this;setTimeout(function(){r.transmitter.sendUsage({token:r.customer.token,correlationId:r.customer.correlationId,application:r.config.current.application,x:r.util.uuid()})},1e3)}}catch(s){this.onFault(s)}};p.prototype={reveal:function(){return this.customer.token?(this.api.addMetadata=this.metadata.addMetadata,this.api.removeMetadata=this.metadata.removeMetadata,this.api):(this.window.console&&this.window.console.warn&&this.window.console.warn("TrackJS could not find a token"),c)},onError:function(){var b=!1;return function(c,d,e){if(this.util.isBrowserSupported()&&this.config.current.enabled)try{d=d||{},e=e||{bindStack:null,bindTime:null,force:!1};var f=d.message||this.serialize(d,e.force);if(f&&f.indexOf){if(-1!==f.indexOf("TrackJS Caught"))return;if(b&&-1!==f.indexOf("Script error"))return void(b=!1)}var g=this.util.extend({},{bindStack:e.bindStack,bindTime:e.bindTime,column:d.column||d.columnNumber,console:this.windowConsoleWatcher.report(),customer:this.customer.report(),entry:c,environment:this.environment.report(),file:d.file||d.fileName,line:d.line||d.lineNumber,message:f,metadata:this.metadata.report(),network:this.networkWatcher.report(),url:(a.location||"").toString(),stack:d.stack,timestamp:this.util.isoNow(),visitor:this.visitorWatcher.report(),version:"2.2.0"});if(!e.force)try{if(!this.config.current.onError(g,d))return}catch(h){g.console.push({timestamp:this.util.isoNow(),severity:"error",message:h.message});var i=this;setTimeout(function(){i.onError("catch",h,{force:!0})},0)}this.log.clear(),setTimeout(function(){b=!1}),b=!0,this.transmitter.sendError(g,this.customer.token)}catch(j){void 0,this.onFault(j)}}}(),onFault:function(a){var b=this.transmitter||new l;a=a||{},a={token:this.customer.token,file:a.file||a.fileName,msg:a.message||"unknown",stack:(a.stack||"unknown").substr(0,500),url:this.window.location,v:"2.2.0",x:this.util.uuid()},b.sendTrackerFault(a)},serialize:function(a,b){if(this.config.current.serialize&&!b)try{return this.config.current.serialize(a)}catch(c){this.onError("catch",c,{force:!0})}return this.config.defaults.serialize(a)}},d=new p(a._trackJs||a._trackJS||a._trackjs||{},function(a,b,c,d){return{attempt:function(a,d){try{var e=Array.prototype.slice.call(arguments,2);return a.apply(d||this,e)}catch(f){throw c("catch",f),b.wrapError(f)}},configure:function(b){return a.setCurrent(b)},track:function(a){if(a=a||{},!a.stack)try{throw Error(d(a))}catch(b){a=b}c("direct",a)},watch:function(a,d){return function(){try{var e=Array.prototype.slice.call(arguments,0);return a.apply(d||this,e)}catch(f){throw c("catch",f),b.wrapError(f)}}},watchAll:function(a){var d,e=Array.prototype.slice.call(arguments,1);for(d in a)"function"==typeof a[d]&&(b.contains(e,d)||function(){var e=a[d];a[d]=function(){try{var a=Array.prototype.slice.call(arguments,0);return e.apply(this,a)}catch(d){throw c("catch",d),b.wrapError(d)}}}());return a},version:"2.2.0"}},d,f,g,h,i,j,function(a){var b={};return{addMetadata:function(a,c){b[a]=c},removeMetadata:function(a){delete b[a]},report:function(){var c,d=[];for(c in b)b.hasOwnProperty(c)&&d.push({key:c,value:a(b[c])});return d},store:b}},k,l,m,n,o,e,a,b),a.trackJs=d.reveal()}}(window,document);
//# sourceMappingURL=head.min.js.map